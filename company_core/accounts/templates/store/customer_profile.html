{% extends portal_base_template|default:"store/customer_portal_base.html" %}
{% block title %}Customer Profile{% endblock %}
{% block portal_content %}
<div class="customer-portal-section">
  <div class="mb-4">
    <h2 class="h4 mb-1">Profile details</h2>
    <p class="text-muted mb-0">Keep your contact information current so {{ business_name|default:default_business_name }} can reach you about service updates and orders.</p>
  </div>
  <div class="card border-0 shadow-sm">
    <div class="card-body">
      <form method="post" novalidate class="row g-3">
        {% csrf_token %}
        <div class="col-md-6">
          <label class="form-label" for="id_name">Name</label>
          {{ form.name }}
          {% if form.name.errors %}
            <div class="invalid-feedback d-block">{{ form.name.errors|join:", " }}</div>
          {% endif %}
        </div>
        <div class="col-md-6">
          <label class="form-label" for="id_email">Email</label>
          {{ form.email }}
          <small class="form-text text-muted">Invoice notifications and order confirmations will be sent here.</small>
          {% if form.email.errors %}
            <div class="invalid-feedback d-block">{{ form.email.errors|join:", " }}</div>
          {% endif %}
        </div>
        <div class="col-md-6">
          <label class="form-label" for="id_cc_emails">CC emails</label>
          {{ form.cc_emails }}
          <small class="form-text text-muted">Optional: add comma-separated emails for billing updates.</small>
          {% if form.cc_emails.errors %}
            <div class="invalid-feedback d-block">{{ form.cc_emails.errors|join:", " }}</div>
          {% endif %}
        </div>
        <div class="col-md-6">
          <label class="form-label" for="id_phone_number">Phone number</label>
          {{ form.phone_number }}
          {% if form.phone_number.errors %}
            <div class="invalid-feedback d-block">{{ form.phone_number.errors|join:", " }}</div>
          {% endif %}
        </div>
        <div class="col-md-6">
          <label class="form-label" for="id_address">Mailing address</label>
          {{ form.address }}
          {% if form.address.errors %}
            <div class="invalid-feedback d-block">{{ form.address.errors|join:", " }}</div>
          {% endif %}
        </div>
        <div class="col-12 d-flex justify-content-end">
          <button type="submit" class="btn btn-primary">Save changes</button>
        </div>
      </form>
    </div>
  </div>
</div>
{% endblock %}

